<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<h:head>
	    <h:outputStylesheet library="css" name="bootstrap.min.css" />
	    <h:outputStylesheet library="css" name="style-admin.css" />
	</h:head>

	<h:body>
		<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
				  <h:link styleClass="navbar-brand" value="Casa do Código" outcome="index" />
				  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
				    <ul class="navbar-nav mr-auto">
				      <li class="nav-item active">				      
				         <a class="nav-link" href="#">Lista</a>
				      </li>
				      <li class="nav-item">
				      		<h:link styleClass="nav-link" value="Cadastro" outcome="form" />
				      </li>
				    </ul>
				    <form class="form-inline my-2 my-lg-0">
				      <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search" />
				      <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
				    </form>
				  </div>
		</nav>
		
		<main role="main" class="container">
		
			<h1>Lista de Produtos</h1>
			
			<h:messages />
			
			<h:dataTable var="livro" value="#{adminListaLivroBean.livros}" 
						 class="table-bordered table-striped table-hover">
				<h:column>
					<f:facet name="header">TITULO</f:facet>
						#{livro.titulo}
					</h:column>
				<h:column>
					<f:facet name="header">DESCRICAO</f:facet>
						#{livro.descricao}
					</h:column>
				<h:column>
					<f:facet name="header">PAGINAS</f:facet>
						#{livro.numeroPaginas}
					</h:column>
				<h:column>
					<f:facet name="header">PREÇO</f:facet>
						#{livro.preco}
					</h:column>
				<h:column>
					<f:facet name="header">AUTORES</f:facet>
					<ui:repeat value="#{livro.autores}" var="autor">
			                #{autor.nome},
			            </ui:repeat>
				</h:column>
				<h:column>
					<f:facet name="header">Capa</f:facet>
					<a href="#{request.contextPath}/file/#{livro.capaPath}">
						<img src="#{request.contextPath}/file/#{livro.capaPath}"  height="30%" alt="#{livro.titulo}"/>
				    </a>		
				</h:column>
			</h:dataTable>
		</main><!-- /.container -->
	</h:body>
</html>
